<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="Shoes/bootstrap-5.1.3-dist/css/bootstrap.css">
    <style src="Shoes/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js"></style>

</head>

<body>
    <ul class="nav ">
        <li class="nav-item">
            <a class="nav-link active" href="#">Active</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
        </li>
        <li class="nav-item">
            <a class="nav-link disabled" href="#">Disabled</a>
        </li>
    </ul>
    <main>
        <div class="container mt-3 col-6">
            <div class="input-group mb-3">
                <input type="text" class="form-control" placeholder="Chapter name " aria-label="Recipient's username" aria-describedby="basic-addon2">

                <button id="add_btn" class="btn btn-outline-success" type="button">Add</button>
            </div>
            <ul id="parentList" class="list-group">
                <li class="list-group-item d-flex justify-content-between">
                    <h3 class="flex-grow-1">Chapter 1</h3>
                    <button class="btn btn-warning mx-3" onclick="editchapter(this)">Edit </button>
                    <button class="btn btn-danger" onclick="removechapter(this)">Remove </button>

                </li>
            </ul>
        </div>
    </main>
    <script>
        let add_Btn = document.getElementById('add_btn')
        add_Btn.addEventListener('click', addChapter)
        let parentList = document.getElementById('parentList')

        function addChapter(e) {
            if (parentList.children[0].className == "emptymsg") {
                parentList.children[0].remove()
            }
            let currentBtn = e.currentTarget
            let currentinput = currentBtn.previousElementSibling
            let cureentChapter = currentinput.value
            let newLi = document.createElement('li')
            newLi.className = "list-group-item d-flex justify-content-between"
            newLi.innerHTML = ` <h3 class="flex-grow-1">${cureentChapter}</h3>
                    <button class="btn btn-warning mx-3"onclick="editchapter(this)">Edit </button>
                    <button class="btn btn-danger" onclick="removechapter(this)">Remove </button>`


            parentList.appendChild(newLi)

        }

        function removechapter(element) {
            element.parentElement.remove()
            if (parentList.children.length <= 0) {
                let newEmptymsg = document.createElement('h3')
                newEmptymsg.textContent = "nothing is here Please  Add chapter!!"
                    // newEmptymsg.className = 'text-center'
                newEmptymsg.classList.add("emptymsg")
                parentList.append(newEmptymsg)

            }
        }

        function editchapter(currentelement) {
            if (currentelement.textContent == "Done") {
                currentelement.textContent = "Edit"
                let currentChaptername = currentelement.previousElementSibling.value
                let currentheading = document.createElement('h3')
                currentheading.className = "flex-grow-1"
                currentheading.textContent = currentChaptername
                currentelement.parentElement.replaceChild(currentheading, currentelement.previousElementSibling)

            } else {
                currentelement.textContent = "Done"
                let currentChaptername = currentelement.previousElementSibling.textContent
                let currentinput = document.createElement('input')
                currentinput.type = "text"
                currentinput.placeholder = "Enter chaptername"
                currentinput.className = "form-control"
                currentinput.value = currentChaptername
                currentelement.parentElement.replaceChild(currentinput, currentelement.previousElementSibling)
            }


        }
    </script>

</body>

</html>